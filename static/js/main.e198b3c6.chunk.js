(window["webpackJsonpmapbox-api-chingu"]=window["webpackJsonpmapbox-api-chingu"]||[]).push([[0],{77:function(e,t,r){e.exports=r(89)},89:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(7),i=r.n(o),c=r(17),p=r(31),s=r(62),u=r(11),l={type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Sydney Opera House"},geometry:{type:"Point",coordinates:[151.2152463197708,-33.8568651729163]}},{type:"Feature",properties:{name:"Sydney Harbour Bridge"},geometry:{type:"Point",coordinates:[151.21096014976501,-33.85183111853183]}},{type:"Feature",properties:{name:"Sydney Observatory"},geometry:{type:"Point",coordinates:[151.20474815368652,-33.859529092259784]}},{type:"Feature",properties:{name:"Museum of Contemporary Art Australia"},geometry:{type:"Point",coordinates:[151.20947420597076,-33.85790313130406]}},{type:"Feature",properties:{name:"Art Gallery of New South Wales"},geometry:{type:"Point",coordinates:[151.21726870536804,-33.868816522261326]}},{type:"Feature",properties:{name:"Hyde Park"},geometry:{type:"Point",coordinates:[151.21163606643677,-33.87209026752863]}},{type:"Feature",properties:{name:"Sydney Tower Eye"},geometry:{type:"Point",coordinates:[151.20893239974976,-33.870484589110035]}},{type:"Feature",properties:{name:"Town Hall"},geometry:{type:"Point",coordinates:[151.20609194040298,-33.87319262288092]}},{type:"Feature",properties:{name:"Queen Victoria Building"},geometry:{type:"Point",coordinates:[151.20667397975922,-33.87173394760239]}},{type:"Feature",properties:{name:"St Mary's Cathedral"},geometry:{type:"Point",coordinates:[151.21335804462433,-33.87125736737583]}},{type:"Feature",properties:{name:"ICC Sydney"},geometry:{type:"Point",coordinates:[151.1997029185295,-33.87531044139371]}},{type:"Feature",properties:{name:"Circular Quay"},geometry:{type:"Point",coordinates:[151.2110137939453,-33.86106147643913]}},{type:"Feature",properties:{name:"Central Station"},geometry:{type:"Point",coordinates:[151.20673298835754,-33.882583222375295]}}]};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(r,!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var m={pureData:l,search:"",showMenu:!1,map:null},O=Object(p.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PUREDATA":return f({},e,{pureData:t.payload});case"SET_UPDATESEARCH":return f({},e,{search:t.payload});case"SET_TOGGLEMENU":return f({},e,{showMenu:!e.showMenu});case"SET_MAPBOX":return f({},e,{map:t.payload});default:return e}}});var d=r(16),b=r(13),h=r(24),j=r(25),g=r(28),v=r(63),P=Object(v.a)(function(e){return e.app.pureData},function(e){return e.app.search},function(e,t){return e?e.features.filter(function(e){var r=e.properties.name.toLowerCase(),n=t.toLowerCase();return r.includes(n)}):e}),w=r(66),E=r(65),D=r.n(E),S=r(38),k=r.n(S);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}k.a.accessToken="pk.eyJ1IjoidHVrc3VuIiwiYSI6ImNqejVnYWRscTA4c3kzZG52djdjNWVleWkifQ.0cBObp1PiwUnvvy9W_GNzg";var M=[151.20861055151923,-33.86349534679483],A=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(h.a)(this,Object(j.a)(t).call(this,e))).state={markers:null,loaded:!1},r}return Object(g.a)(t,e),Object(b.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;if(this.props.filteredData&&this.state.markers){var t=this.props.filteredData.map(function(e){return e.properties.name});this.props.app.pureData.features.map(function(r){var n=e.state.markers[r.properties.name].getElement();return t.includes(r.properties.name)?n.style.visibility="visible":n.style.visibility="hidden",r})}}},{key:"componentDidMount",value:function(){var e=this;this.map=new k.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/dark-v9",center:M,zoom:14}),this.map.on("load",function(){var t=e.props.filteredData.reduce(function(t,r){var n=new k.a.Marker({color:"#e91e63"}).setLngLat(r.geometry.coordinates).setPopup(new k.a.Popup({offset:20}).setHTML("<h3>"+r.properties.name+"</h3>"));return n.addTo(e.map),t[r.properties.name]=n,t},{});e.setState({markers:t,loaded:!0})}),this.props.setMap(this.map)}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{style:{height:"100vh",width:"100vw"},ref:function(t){return e.mapContainer=t},className:"absolute top right left bottom"})}}]),t}(n.Component),C=Object(c.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(r,!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{filteredData:P(e)})},function(e){return{setMap:function(t){return e((r=t,function(e){e({type:"SET_MAPBOX",payload:r})}));var r}}})(A),x=r(127),_=r(130),F=r(46),I=r(131),N=r(64),L=r.n(N);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var H=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(h.a)(this,Object(j.a)(t).call(this,e))).simpleAction=function(e){r.props.simpleAction()},r.componentDidMount=function(){r.setState({classes:"asd"})},r.state={classes:null},r}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.state.classes,t=this.props.setToggleMenu;return e?a.a.createElement("div",null,a.a.createElement(x.a,{position:"fixed"},a.a.createElement(_.a,null,a.a.createElement(F.a,{variant:"h6",style:{flexGrow:1}},"Chingu-Mapbox"),a.a.createElement(I.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){t()}},a.a.createElement(L.a,null))))):a.a.createElement("div",null)}}]),t}(n.Component),G=Object(c.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(r,!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e)},function(e){return{simpleAction:function(){return e(function(e){e({type:"SIMPLE_ACTION",payload:"result_of_simple_action"})})},setToggleMenu:function(){return e(function(e){e({type:"SET_TOGGLEMENU",payload:t})});var t}}})(H),B=r(132),W=r(90),J=r(138),R=r(135),V=r(133),z=r(136),Q=r(137),X=r(134);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var q=Object(B.a)(W.a)({position:"absolute",top:"50px",padding:"0 10px",width:"250px",maxHeight:"calc(100vh - 50px)",right:"0px",zIndex:1,overflow:"scroll"}),Z=Object(B.a)(J.a)({width:"100%"}),$=function(e){function t(e){var r;return Object(d.a)(this,t),(r=Object(h.a)(this,Object(j.a)(t).call(this,e))).simpleAction=function(e){r.props.simpleAction()},r.handleSearchText=function(e){r.props.setUpdateSearch(e.target.value)},r.handelJumpToMap=function(e){r.props.app.map.flyTo({center:e.geometry.coordinates})},r.state={search:""},r}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(X.a,{direction:"top",in:this.props.app.showMenu,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement(q,{position:"fixed"},a.a.createElement(Z,{id:"search-field",label:"Landmark Name",value:this.props.app.search,onChange:function(t){e.handleSearchText(t)},margin:"normal"}),a.a.createElement(R.a,null),this.props.filteredData&&a.a.createElement(V.a,{component:"nav"},this.props.filteredData.map(function(t,r){return a.a.createElement(z.a,{button:!0,key:t.properties.name,onClick:function(){return e.handelJumpToMap(t)}},a.a.createElement(Q.a,{primary:t.properties.name}))}),0===this.props.filteredData.length&&a.a.createElement(z.a,null,a.a.createElement(Q.a,{primary:"Could not find landmark.",style:{color:"grey"}})))))}}]),t}(n.Component),K=Object(c.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(r,!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{filteredData:P(e)})},function(e){return{setUpdateSearch:function(t){return e((r=t,function(e){e({type:"SET_UPDATESEARCH",payload:r})}));var r}}})($);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var te=Object(w.a)({palette:{primary:{main:"#e91e63"},secondary:{main:"#4dd0e1"}}}),re=function(e){function t(){var e,r;Object(d.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(h.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(a)))).componentDidMount=function(){r.props.setPureData(l)},r}return Object(g.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(D.a,{theme:te},a.a.createElement(G,null),a.a.createElement(K,null),a.a.createElement(C,null)))}}]),t}(n.Component),ne=Object(c.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(r,!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{filteredData:P(e)})},function(e){return{simpleAction:function(t){return e(function(e){e({type:"SIMPLE_ACTION",payload:"result_of_simple_action"})})},setPureData:function(t){return e((r=t,function(e){e({type:"SET_PUREDATA",payload:r})}));var r}}})(re);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(c.a,{store:Object(p.d)(O,Object(p.a)(s.a))},a.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[77,1,2]]]);
//# sourceMappingURL=main.e198b3c6.chunk.js.map